<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="tn.esprit.controllers.affichereventscontroller"
            stylesheets="@css/style.css"
            prefWidth="900.0" prefHeight="600.0">

   <!-- 🔝 En-tête avec filtres -->
   <top>
      <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: #e8f1f8;" BorderPane.alignment="TOP_CENTER">
         <padding>
            <Insets top="20" bottom="10" left="20" right="20"/>
         </padding>

         <!-- Titre -->
         <Label text="Liste des Événements Médicaux"
                style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />

         <Region HBox.hgrow="ALWAYS" />

         <!-- Tri -->
         <Label text="Trier par :" style="-fx-font-size: 14px; -fx-text-fill: #2c3e50;"/>
         <ComboBox fx:id="triComboBox" prefWidth="150"/>

         <!-- Filtre -->
         <Label text="Filtrer par nom :" style="-fx-font-size: 14px; -fx-text-fill: #2c3e50;"/>
         <TextField fx:id="filtreTextField" promptText="Rechercher un événement" prefWidth="200"/>

         <!-- Bouton pour afficher le calendrier -->
         <Button text="📅 Afficher Calendrier" onAction="#showCalendar" />
      </HBox>
   </top>

   <!-- 🧾 Zone centrale dynamique -->
   <center>
      <AnchorPane fx:id="contentPane">
         <children>
            <!-- Contenu par défaut : FlowPane des cartes d'événements -->
            <ScrollPane fx:id="defaultScroll" fitToWidth="true" AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0"
                        AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
               <FlowPane fx:id="eventCardsContainer" hgap="20" vgap="20" prefWrapLength="760">
                  <padding>
                     <Insets top="20" right="20" bottom="20" left="20"/>
                  </padding>
               </FlowPane>
            </ScrollPane>
         </children>
      </AnchorPane>
   </center>

   <!-- 🔘 Bas de page : pagination + actions -->
   <bottom>
      <VBox spacing="5" BorderPane.alignment="BOTTOM_CENTER">

         <!-- 🧾 Zone de pagination -->
         <HBox fx:id="paginationContainer" alignment="CENTER" spacing="10" style="-fx-background-color: #2c3e50;">
            <padding>
               <Insets top="10" bottom="10" left="20" right="20"/>
            </padding>
         </HBox>

         <!-- 🔘 Boutons Ajouter / Rafraîchir -->
         <HBox alignment="CENTER_RIGHT" spacing="10" style="-fx-background-color: #f9f9f9;">
            <padding>
               <Insets top="10" bottom="10" left="20" right="20"/>
            </padding>
            <Button text="➕ Ajouter un événement" fx:id="addButton" onAction="#ajouterEvent" styleClass="add-btn"/>
            <Button text="🔄 Rafraîchir" fx:id="refreshButton" onAction="#refreshEvents" styleClass="refresh-btn"/>
         </HBox>

      </VBox>
   </bottom>

</BorderPane>
